## Spring 中的事务 ##

在软件中，事务扮演了重要的角色，它确保了数据或资源免于处在不一致的状态中。Spring 提供了编码式和声明式事务管理的支持。

Spring 使用了一种回调机制，将实际的事务实现从事务性的代码中抽象出来。实际上，Spring 的事务管理支持甚至不需要 JTA 实现。如果应用只使用单一的持久化资源（如 JDBC、Hibernate、JPA 等），那么 Spring 就可以使用该持久化机制本身所提供的事务性支持。然而，如果应用有跨越多个资源的事务要求，那么 Spring 可以使用第三方的 JTA 实现来支持分布式（XA）事务。

编码式事务（类似于 EJB 的 BMT）允许在代码中精确定义事务的边界（事务开始和结束位置）；而声明式事务（基于 AOP，类似于 EJB 的 CMT）有助于将操作与事务规则进行解耦。

选择编码式事务（programmatic transaction）还是声明式事务（declarative transaction），很大程度上是在细粒度控制与易用性之间进行权衡。当在程序代码中编写事务时，可以精确控制事务的边界，在希望的地方精确地开始和结束它们。如果不需要编码式事务所提供的细微控制，则会选择在上下文定义文件中声明事务。
